/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ft_putnbr_fd.c                                     :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: kharada <kharada@student.42.fr>            +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2024/11/09 08:47:01 by kharada           #+#    #+#             */
/*   Updated: 2025/03/19 10:20:33 by kharada          ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

/*
C言語には 標準の putnbr_fd 関数はない けど、
指定したファイルディスクリプタ（fd）に整数（int）を書き込む関数 を 自作 できる！

1. putnbr_fd の考え方
printf("%d", n); を使えば簡単に整数を表示できる
putnbr_fd は fd（ファイルディスクリプタ）を指定して整数を出力
write() や putchar_fd() を使って、整数を1文字ずつ書き込む
itoa() のように整数を文字列に変換する方法もある

5. putnbr_fd の注意点
✅ write() を使って fd に整数を書き込む
✅ putchar_fd() を使って1文字ずつ出力（再帰で処理）
✅ 負の数の場合 - を出力し、n = -n にする
✅ INT_MIN（-2147483648）は -n するとオーバーフローするので特別処理！
✅ sprintf() を使うとシンプルに実装可能（ただしバッファが必要）
❌ fd が無効な場合、何も出力されないので open() のエラーチェックが必要！

6. putnbr_fd のまとめ
✅ putnbr_fd(n, fd) は fd に n を文字として書き込む！
✅ 標準出力 (1)、標準エラー (2)、ファイル (fd) に書き込める！
✅ write(fd, &c, 1); を使えば簡単に実装可能！
✅ sprintf() を使うと簡単になるが、write() 版の方が Libft っぽい！
*/
#include "libft.h"

void	ft_putnbr_fd(int n, int fd)
{
	if (n == INT_MIN)
	{
		write(fd, "-2147483648", 11);
		return ;
	}
	if (n < 0)
	{
		ft_putchar_fd('-', fd);
		n = -n;
	}
	if (n >= 10)
	{
		ft_putnbr_fd(n / 10, fd);
	}
	ft_putchar_fd((n % 10) + '0', fd);
}
